<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Introduction</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<h1>Introduction</h1>

<p>This file illustrates the silhouette plot and class map for visualizing classification results from classification trees fit by rpart. The discussion of the results of this vignette is in section 4 of Raymaekers and Rousseeuw (2021) (for the training data), and in section A.4 of the Supplementary Material (for the test data).</p>

<pre><code class="r">library(rpart)
library(classmap)
</code></pre>

<h1>Titanic training data</h1>

<p>We first load and inspect the data.</p>

<pre><code class="r">data(&quot;data_titanic&quot;)

traindata = data_titanic[which(data_titanic$dataType == &quot;train&quot;), -13]

dim(traindata) 
</code></pre>

<pre><code>## [1] 891  12
</code></pre>

<pre><code class="r">colnames(traindata)
</code></pre>

<pre><code>##  [1] &quot;PassengerId&quot; &quot;Pclass&quot;      &quot;Name&quot;        &quot;Sex&quot;         &quot;Age&quot;        
##  [6] &quot;SibSp&quot;       &quot;Parch&quot;       &quot;Ticket&quot;      &quot;Fare&quot;        &quot;Cabin&quot;      
## [11] &quot;Embarked&quot;    &quot;y&quot;
</code></pre>

<pre><code class="r"># SibSp: number of siblings/spouses aboard
# Parch: number of parents/children aboard

str(traindata)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    891 obs. of  12 variables:
##  $ PassengerId: int  1 2 3 4 5 6 7 8 9 10 ...
##  $ Pclass     : int  3 1 3 1 3 3 1 3 3 2 ...
##  $ Name       : chr  &quot;Braund, Mr. Owen Harris&quot; &quot;Cumings, Mrs. John Bradley (Florence Briggs Thayer)&quot; &quot;Heikkinen, Miss. Laina&quot; &quot;Futrelle, Mrs. Jacques Heath (Lily May Peel)&quot; ...
##  $ Sex        : chr  &quot;male&quot; &quot;female&quot; &quot;female&quot; &quot;female&quot; ...
##  $ Age        : num  22 38 26 35 35 NA 54 2 27 14 ...
##  $ SibSp      : int  1 1 0 1 0 0 0 3 0 1 ...
##  $ Parch      : int  0 0 0 0 0 0 0 1 2 0 ...
##  $ Ticket     : chr  &quot;A/5 21171&quot; &quot;PC 17599&quot; &quot;STON/O2. 3101282&quot; &quot;113803&quot; ...
##  $ Fare       : num  7.25 71.28 7.92 53.1 8.05 ...
##  $ Cabin      : chr  &quot;&quot; &quot;C85&quot; &quot;&quot; &quot;C123&quot; ...
##  $ Embarked   : chr  &quot;S&quot; &quot;C&quot; &quot;S&quot; &quot;S&quot; ...
##  $ y          : Factor w/ 2 levels &quot;casualty&quot;,&quot;survived&quot;: 1 2 2 2 1 1 1 1 2 2 ...
</code></pre>

<pre><code class="r">table(traindata$y)
</code></pre>

<pre><code>## 
## casualty survived 
##      549      342
</code></pre>

<p>Now we want to predict the response y by CART (rpart).
We set the seed as rpart is not deterministic.
We also inspect the resulting classification tree.</p>

<pre><code class="r">set.seed(123) 
rpart.out = rpart(y ~ Pclass + Sex + SibSp + 
                    Parch + Fare + Embarked,
                  data=traindata, method=&#39;class&#39;, model=T)

## plot the tree:
# pdf(file = &quot;titanic_train_tree.pdf&quot;, width=6, height=6)
rpart.plot::rpart.plot(rpart.out)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-4" alt="plot of chunk unnamed-chunk-4" style="display: block; margin: auto;" /></p>

<pre><code class="r"># dev.off()
</code></pre>

<p>We now inspect the variable importance, which will be used to calculate
the variable weights in the farness computation. </p>

<pre><code class="r">rpart.out$variable.importance
</code></pre>

<pre><code>##        Sex       Fare     Pclass      Parch   Embarked      SibSp 
## 124.426330  43.978667  31.163132  16.994228   9.889646   8.349703
</code></pre>

<p>Now we declare the types of the variables. This is used in the calculation of the Daisy distance, which in turn is needed for the farness computation. There are 5 nominal columns and one ordinal. The variables not listed here are interval-scaled by default.</p>

<pre><code class="r">mytype = list(nominal=c(&quot;Name&quot;,&quot;Sex&quot;,&quot;Ticket&quot;,&quot;Cabin&quot;,&quot;Embarked&quot;), 
              ordratio=c(&quot;Pclass&quot;))
</code></pre>

<p>Now we prepare for visualization and inspect the elements of the output.</p>

<pre><code class="r">x_train = traindata[,-12]
y_train = traindata[, 12]
vcrtrain = vcr.rpart.train(x_train, y_train, rpart.out, mytype)
names(vcrtrain)
</code></pre>

<pre><code>##  [1] &quot;X&quot;         &quot;yint&quot;      &quot;y&quot;         &quot;levels&quot;    &quot;predint&quot;   &quot;pred&quot;     
##  [7] &quot;altint&quot;    &quot;altlab&quot;    &quot;PAC&quot;       &quot;figparams&quot; &quot;fig&quot;       &quot;farness&quot;  
## [13] &quot;ofarness&quot;  &quot;trainfit&quot;
</code></pre>

<pre><code class="r">vcrtrain$predint[1:10] # prediction as integer
</code></pre>

<pre><code>##  [1] 1 2 1 2 1 1 1 1 2 2
</code></pre>

<pre><code class="r">vcrtrain$pred[1:10]    # prediction as label
</code></pre>

<pre><code>##  [1] &quot;casualty&quot; &quot;survived&quot; &quot;casualty&quot; &quot;survived&quot; &quot;casualty&quot; &quot;casualty&quot;
##  [7] &quot;casualty&quot; &quot;casualty&quot; &quot;survived&quot; &quot;survived&quot;
</code></pre>

<pre><code class="r">vcrtrain$altint[1:10]  # alternative label as integer
</code></pre>

<pre><code>##  [1] 2 1 1 1 2 2 2 2 1 1
</code></pre>

<pre><code class="r">vcrtrain$altlab[1:10]  # alternative label
</code></pre>

<pre><code>##  [1] &quot;survived&quot; &quot;casualty&quot; &quot;casualty&quot; &quot;casualty&quot; &quot;survived&quot; &quot;survived&quot;
##  [7] &quot;survived&quot; &quot;survived&quot; &quot;casualty&quot; &quot;casualty&quot;
</code></pre>

<pre><code class="r"># Probability of Alternative Class (PAC) of each object:
vcrtrain$PAC[1:3] 
</code></pre>

<pre><code>## [1] 0.18890815 0.05294118 0.59459459
</code></pre>

<pre><code class="r">#
summary(vcrtrain$PAC)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## 0.05294 0.18891 0.18891 0.27905 0.29630 0.94706
</code></pre>

<pre><code class="r"># f(i,g) is the distance from case i to class g:
vcrtrain$fig[1:3,] # for the first 3 objects:
</code></pre>

<pre><code>##           [,1]      [,2]
## [1,] 0.2621228 0.5079752
## [2,] 0.9505125 0.3728041
## [3,] 0.2303989 0.1644634
</code></pre>

<pre><code class="r"># The farness of an object i is the f(i,g) to its own class: 
vcrtrain$farness[1:3]
</code></pre>

<pre><code>## [1] 0.2621228 0.3728041 0.1644634
</code></pre>

<pre><code class="r">#
summary(vcrtrain$farness)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.2437  0.3286  0.6234  0.9613
</code></pre>

<pre><code class="r"># The &quot;overall farness&quot; of an object is defined as the 
# lowest f(i,g) it has to any class g (including its own):
summary(vcrtrain$ofarness)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.1919  0.2906  0.5342  0.9578
</code></pre>

<pre><code class="r">sum(vcrtrain$ofarness &gt; 0.99, na.rm = T) 
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r"># No farness is considered outlying in these data.

confmat.vcr(vcrtrain) 
</code></pre>

<pre><code>## 
## Confusion matrix:
##           predicted
## given      casualty survived
##   casualty      521       28
##   survived      130      212
## 
## The accuracy is 82.27%.
</code></pre>

<pre><code class="r">cols = c(&quot;firebrick&quot;, &quot;blue&quot;)
</code></pre>

<p>We first make the stacked plot, visualizing the confusion matrix:</p>

<pre><code class="r">stackedplot(vcrtrain, classCols = cols)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-8" alt="plot of chunk unnamed-chunk-8" style="display: block; margin: auto;" /></p>

<p>Now we consider the silhouette plot</p>

<pre><code class="r">silplot(vcrtrain, classCols = cols)
</code></pre>

<pre><code>##  classNumber classLabel classSize classAveSi
##            1   casualty       549       0.55
##            2   survived       342       0.27
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-9" alt="plot of chunk unnamed-chunk-9" style="display: block; margin: auto;" /></p>

<pre><code class="r"># silplot.out &lt;- silplot(vcrtrain, classCols = cols)
# ggsave(&quot;titanic_train_silhouettes.pdf&quot;, silplot.out,
#        width = 5, height = 5)
</code></pre>

<p>Now we construct the quasi residual plot of PAC vs. age for males only.
The age variable is not in the model, but including it
did not improve the classification. We see that the very young male passengers are often misclassified.</p>

<pre><code class="r">hist(x_train$Age)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-10" alt="plot of chunk unnamed-chunk-10" style="display: block; margin: auto;" /></p>

<pre><code class="r"># Quasi residual plot versus age, for males only:
xm = x_train$Age[which(x_train$Sex == &quot;male&quot;)]
ym = vcrtrain$PAC[which(x_train$Sex == &quot;male&quot;)]
#
# pdf(&quot;titanic_qrp_versus_age_males.pdf&quot;, width=4.8, height=4.8)
par(mar = c(3.5, 2, 2, 0))
par(pty=&quot;s&quot;) # makes the axes of the plot equally long
plot(xm, ym, type= &quot;n&quot;, ann = FALSE, axes = FALSE)
# makes an empty plot
title(main = &quot;quasi residual plot for males&quot;, line = 1, 
      cex.main = 1.2)
title(ylab = &quot;P[alternative class]&quot;, line = 2.3, 
      cex.lab = 1)
title(xlab = &quot;Age (years)&quot;, line = 2.3, cex.lab = 1)
par(new=TRUE) # overlay next plot on this one
plot(xm, ym, xlab = &quot;&quot;, ylab = &quot;&quot;)
lom = loess(ym ~ xm)
lines(0:82, predict(lom, 0:82), col=&quot;red&quot;, lwd = 2)
text(x=17,y=0.56,&quot;loess curve&quot;,col=&quot;red&quot;, cex = 1)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-10" alt="plot of chunk unnamed-chunk-10" style="display: block; margin: auto;" /></p>

<pre><code class="r"># dev.off()

ind = which(!is.na(xm))
cor.test(xm[ind], ym[ind], method=&quot;spearman&quot;)
</code></pre>

<pre><code>## Warning in cor.test.default(xm[ind], ym[ind], method = &quot;spearman&quot;): Cannot
## compute exact p-value with ties
</code></pre>

<pre><code>## 
##  Spearman&#39;s rank correlation rho
## 
## data:  xm[ind] and ym[ind]
## S = 16706041, p-value = 0.0961
## alternative hypothesis: true rho is not equal to 0
## sample estimates:
##         rho 
## -0.07828186
</code></pre>

<pre><code class="r"># p-value is 0.0961 so not significantly different from zero.
# However, loess shows the local effect at very young age.
</code></pre>

<p>We can do the same for females, where the effect of age is clearly much smaller:</p>

<pre><code class="r">xf = x_train$Age[which(x_train$Sex == &quot;female&quot;)]
yf = vcrtrain$PAC[which(x_train$Sex == &quot;female&quot;)]
plot(xf,yf)
lof = loess(yf ~ xf)
lines(0:82, predict(lof, 0:82), col=&quot;red&quot;)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-11" alt="plot of chunk unnamed-chunk-11" style="display: block; margin: auto;" /></p>

<p>Now we construct the class maps. First of the casualties.</p>

<pre><code class="r">classmap(vcrtrain, &quot;casualty&quot;, classCols = cols)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-12" alt="plot of chunk unnamed-chunk-12" style="display: block; margin: auto;" /></p>

<pre><code class="r"># classmap(vcrtrain, &quot;casualty&quot;, classCols = cols, identify = T)

# blue points top right: cases &quot;a&quot; and &quot;b&quot; in the paper
x_train[which(y_train == &quot;casualty&quot;)[119], ]
</code></pre>

<pre><code>##     PassengerId Pclass                       Name    Sex Age SibSp Parch
## 178         178      1 Isham, Miss. Ann Elizabeth female  50     0     0
##       Ticket    Fare Cabin Embarked
## 178 PC 17595 28.7125   C49        C
</code></pre>

<pre><code class="r"># Woman in 1st class, should have survived.
#
x_train[which(y_train == &quot;casualty&quot;)[192], ]
</code></pre>

<pre><code>##     PassengerId Pclass                         Name    Sex Age SibSp Parch
## 298         298      1 Allison, Miss. Helen Loraine female   2     1     2
##     Ticket   Fare   Cabin Embarked
## 298 113781 151.55 C22 C26        S
</code></pre>

<pre><code class="r"># Similar, but child.

# red point most to the right: case &quot;c&quot; in the paper
x_train[which(y_train == &quot;casualty&quot;)[268], ]
</code></pre>

<pre><code>##     PassengerId Pclass              Name  Sex Age SibSp Parch Ticket Fare
## 439         439      1 Fortune, Mr. Mark male  64     1     4  19950  263
##           Cabin Embarked
## 439 C23 C25 C27        S
</code></pre>

<p>Now the class map of the survivors.</p>

<pre><code class="r">classmap(vcrtrain, &quot;survived&quot;, classCols = cols)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-13" alt="plot of chunk unnamed-chunk-13" style="display: block; margin: auto;" /></p>

<pre><code class="r"># classmap(vcrtrain, &quot;survived&quot;, classCols = cols, identify = T)

# red point with highest farness among highest PAC: case &quot;d&quot; in the paper
x_train[which(y_train == &quot;survived&quot;)[c(14)], ] 
</code></pre>

<pre><code>##    PassengerId Pclass                                                      Name
## 26          26      3 Asplund, Mrs. Carl Oscar (Selma Augusta Emilia Johansson)
##       Sex Age SibSp Parch Ticket    Fare Cabin Embarked
## 26 female  38     1     5 347077 31.3875              S
</code></pre>

<pre><code class="r"># near-coinciding points with highest farness: cases &quot;e&quot; and &quot;f&quot; in the paper
#
x_train[which(y_train == &quot;survived&quot;)[265], ]
</code></pre>

<pre><code>##     PassengerId Pclass                               Name  Sex Age SibSp Parch
## 680         680      1 Cardeza, Mr. Thomas Drake Martinez male  36     0     1
##       Ticket     Fare       Cabin Embarked
## 680 PC 17755 512.3292 B51 B53 B55        C
</code></pre>

<pre><code class="r">x_train[which(y_train == &quot;survived&quot;)[287], ] 
</code></pre>

<pre><code>##     PassengerId Pclass                   Name  Sex Age SibSp Parch   Ticket
## 738         738      1 Lesurer, Mr. Gustave J male  35     0     0 PC 17755
##         Fare Cabin Embarked
## 738 512.3292  B101        C
</code></pre>

<pre><code class="r"># man --&gt; predicted as not survived. also paid the highest 
# fare in the data and has same ticket number as passenger 
# 265. Also embarked as same place. these may be related?
# according to following links they were colleagues working 
# for the Cardeza family:
# https://www.encyclopedia-titanica.org/titanic-survivor/thomas-cardeza.html
# https://www.encyclopedia-titanica.org/titanic-survivor/gustave-lesueur.html

# blue point bottom right: case &quot;g&quot; in the paper
x_train[which(y_train == &quot;survived&quot;)[90], ]
</code></pre>

<pre><code>##     PassengerId Pclass             Name    Sex Age SibSp Parch   Ticket
## 259         259      1 Ward, Miss. Anna female  35     0     0 PC 17755
##         Fare Cabin Embarked
## 259 512.3292              C
</code></pre>

<pre><code class="r"># # woman  + first class so predicted in survivors.
# # paid highest fare in whole dataset 
</code></pre>

<h1>Titanic test data</h1>

<p>In addition to the training data, we consider the titanic test data.
First we load the data and inspect.</p>

<pre><code class="r">testdata = data_titanic[which(data_titanic$dataType == &quot;test&quot;), -13]

dim(testdata)
</code></pre>

<pre><code>## [1] 418  12
</code></pre>

<pre><code class="r">x_test = testdata[, -12]
y_test = testdata[, 12]
table(y_test)
</code></pre>

<pre><code>## y_test
## casualty survived 
##      260      158
</code></pre>

<p>Now we prepare for visualization:</p>

<pre><code class="r">vcrtest = vcr.rpart.newdata(x_test, y_test, vcrtrain)

confmat.vcr(vcrtest)
</code></pre>

<pre><code>## 
## Confusion matrix:
##           predicted
## given      casualty survived
##   casualty      230       30
##   survived       64       94
## 
## The accuracy is 77.51%.
</code></pre>

<pre><code class="r">cols = c(&quot;firebrick&quot;, &quot;blue&quot;)
</code></pre>

<p>Now we can visualize, starting with the stacked plot:</p>

<pre><code class="r">stackedplot(vcrtest, classCols=cols)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-16" alt="plot of chunk unnamed-chunk-16" style="display: block; margin: auto;" /></p>

<p>Now we construct the silhouette plot:</p>

<pre><code class="r">silplot(vcrtest, classCols = cols)
</code></pre>

<pre><code>##  classNumber classLabel classSize classAveSi
##            1   casualty       260       0.47
##            2   survived       158       0.25
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-17" alt="plot of chunk unnamed-chunk-17" style="display: block; margin: auto;" /></p>

<p>Finally, we make the class maps. First of the casualties, in which the misclassifications are all female (since all males 
are predicted as casualty by this model).</p>

<pre><code class="r">classmap(vcrtest, &quot;casualty&quot;, classCols = cols) 
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-18" alt="plot of chunk unnamed-chunk-18" style="display: block; margin: auto;" /></p>

<p>Now the class map of survivors:</p>

<pre><code class="r">classmap(vcrtest, &quot;survived&quot;, classCols = cols) 
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-19" alt="plot of chunk unnamed-chunk-19" style="display: block; margin: auto;" /></p>

<hr/>

</body>

</html>
